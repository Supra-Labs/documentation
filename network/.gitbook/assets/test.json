{"openapi":"3.0.3","info":{"title":"rpc_node","description":"Branch: Some(\"\")\nCommit Hash: Some(\"4a75d981178285f7e65f81dea51edd43c0f99641\")\nRust Version: Some(\"rustc 1.81.0 (eeb90cda1 2024-09-04)\")\nBuild Target: Some(\"x86_64-unknown-linux-gnu\")\nBuild Time (RFC-2822): Some(\"Sat, 09 Nov 2024 13:50:06 +0000\")\n","license":{"name":""},"version":"0.4.0"},"servers":[{"url":"http://localhost:27000","description":"LocalNet"},{"url":"https://rpc-qanet.supra.com","description":"QANet"},{"url":"https://rpc-wallet.supra.com","description":"WalletNet"},{"url":"https://rpc-devnet.supra.com","description":"DevNet"},{"url":"https://rpc-staging.supra.com/","description":"StagingNet"}],"paths":{"/rpc/v1/accounts/{address}":{"get":{"tags":["Accounts"],"summary":"Fetch account info","description":"contains auth key & sequence number for the account","operationId":"info","parameters":[{"name":"address","in":"path","description":"address of the account to lookup","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"account info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccInfoRes"}}}}}}},"/rpc/v1/accounts/{address}/resources":{"get":{"tags":["Accounts"],"summary":"Get account resources by address","operationId":"resources","parameters":[{"name":"address","in":"path","description":"account address to lookup","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"account resource list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountResources"}}}}}}},"/rpc/v1/accounts/{address}/resources/{struct_tag}":{"get":{"tags":["Accounts"],"summary":"View account resource by Move type","description":"# Example\n```json\nstruct_tag: 0x1::coin::CoinStore<0x1::supra_coin::SupraCoin>\n```","operationId":"read_move_struct","parameters":[{"name":"address","in":"path","description":"account address to lookup","required":true,"schema":{"type":"string"}},{"name":"struct_tag","in":"path","description":"Move struct tag","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"View account resource by Move Struct type","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MoveValueResponse"}}}}}}},"/rpc/v1/accounts/{address}/transactions":{"get":{"tags":["Accounts"],"summary":"List of transactions for the move account","operationId":"statement","parameters":[{"name":"count","in":"query","required":false,"schema":{"type":"integer","nullable":true,"minimum":0},"style":"form"},{"name":"last_seen","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/HexHash"}],"nullable":true},"style":"form"},{"name":"recent","in":"query","required":false,"schema":{"type":"boolean","nullable":true},"style":"form"},{"name":"filter","in":"query","required":false,"schema":{"type":"boolean","nullable":true},"style":"form"},{"name":"address","in":"path","description":"hex encoded move address for the account","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"List of transactions for the move account","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountStatement"}}}}}}},"/rpc/v1/block":{"get":{"tags":["Block"],"summary":"Get latest block information","operationId":"latest_block","responses":{"200":{"description":"Returns latest block hash and height","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/BlockHeaderInfo"}],"nullable":true}}}}}}},"/rpc/v1/block/height/{u64}":{"get":{"tags":["Block"],"summary":"Get [BlockHeaderInfo] by block height.","operationId":"block_header_info_by_height","parameters":[{"name":"height","in":"path","description":"Block height","required":true,"schema":{"type":"integer","format":"int64","minimum":0}}],"responses":{"200":{"description":"Returns the block header info by height","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/BlockHeaderInfo"}],"nullable":true}}}}}}},"/rpc/v1/block/{block_hash}":{"get":{"tags":["Block"],"summary":"Get the block header information","operationId":"block_header_info","parameters":[{"name":"block_hash","in":"path","description":"Hex encoded block hash","required":true,"schema":{"$ref":"#/components/schemas/HexHash"}}],"responses":{"200":{"description":"Returns the block header info","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/BlockHeaderInfo"}],"nullable":true}}}}}}},"/rpc/v1/block/{block_hash}/transactions":{"get":{"tags":["Block"],"summary":"Get a list of transaction hashes by block","operationId":"txs_by_block","parameters":[{"name":"block_hash","in":"path","description":"Hex encoded block hash","required":true,"schema":{"$ref":"#/components/schemas/HexHash"}}],"responses":{"200":{"description":"List of transaction hashes for the block","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HexHash"}}}}}}}},"/rpc/v1/eth/eth_sign":{"post":{"tags":["Ethereum"],"operationId":"eth_sign","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EthSignParams"}}},"required":true},"responses":{"200":{"description":"Transaction signed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EthSignResult"}}}}}}},"/rpc/v1/transactions/chain_id":{"get":{"tags":["Transactions"],"summary":"Fetch chain id","operationId":"chain_id","responses":{"200":{"description":"current chain id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChainId"}}}}}}},"/rpc/v1/transactions/estimate_gas_price":{"get":{"tags":["Transactions"],"summary":"Fetch current recommended gas price","operationId":"estimate_gas_price","responses":{"200":{"description":"current maximum and average gas price","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GasPriceRes"}}}}}}},"/rpc/v1/transactions/simulate":{"post":{"tags":["Transactions"],"summary":"Simulate a transaction in rpc_node","operationId":"simulate_txn","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupraTransaction"}}},"required":true},"responses":{"200":{"description":"Simulation is ready","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TxnSimulationInfo"}}}}}}},"/rpc/v1/transactions/submit":{"post":{"tags":["Transactions"],"summary":"Submit a transaction to rpc node","operationId":"submit_txn","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupraTransaction"}}},"required":true},"responses":{"200":{"description":"transaction submitted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionHash"}}}}}}},"/rpc/v1/transactions/{txn_hash}":{"get":{"tags":["Transactions"],"summary":"Get transaction data by transaction hash","description":"Assume only client transaction (EVM or Aptos) would be queried","operationId":"txn_detail","parameters":[{"name":"txn_hash","in":"path","description":"Hash of the transaction to lookup","required":true,"schema":{"$ref":"#/components/schemas/HexHash"}}],"responses":{"200":{"description":"Transaction data of the given transaction hash","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionInfo"}}}}}}},"/rpc/v1/view":{"post":{"tags":["View"],"summary":"Execute view function of a module","description":"# Example\n```json\n{\n\"function\": \"0x1::timestamp::now_microseconds\",\n\"type_arguments\": [],\n\"arguments\": []\n}\n```","operationId":"view_function","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ViewRequest"}}},"required":true},"responses":{"200":{"description":"Result of view function","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MoveValueResponse"}],"nullable":true}}}}}}},"/rpc/v1/wallet/faucet/{address}":{"get":{"tags":["Wallet"],"summary":"Faucet endpoint","description":"funds account with [FUND_AMOUNT] coins","operationId":"faucet","parameters":[{"name":"address","in":"path","description":"account address to fund","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"list of associated transactions created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FaucetStatus"}}}}}}}},"components":{"schemas":{"AccInfoRes":{"type":"object","description":"Datatype that holds the sequence number and account authentication key.","required":["sequence_number","authentication_key"],"properties":{"sequence_number":{"type":"integer","format":"int64","minimum":0},"authentication_key":{"type":"string","format":"binary"}}},"AccountResources":{"type":"object","required":["resources"],"properties":{"resources":{"type":"object"}}},"AccountStatement":{"type":"object","required":["record"],"properties":{"record":{"type":"array","items":{"$ref":"#/components/schemas/TransactionApiInfo"}}}},"BlockHeaderInfo":{"type":"object","description":"TODO: reuse SMR types from supra-common\nAs discussed with Isaac Doidge,\n```Text\nThe SMR types in supra-common are intended to be reused wherever a similar type is required, including in client-facing code if appropriate\n```\nInformation of a block header","required":["block_hash","parent_block_hash","author","height","timestamp","view"],"properties":{"block_hash":{"type":"string","format":"binary"},"parent_block_hash":{"type":"string","format":"binary"},"author":{"$ref":"#/components/schemas/Identity"},"height":{"$ref":"#/components/schemas/Height"},"timestamp":{"$ref":"#/components/schemas/SmrTimestamp"},"view":{"$ref":"#/components/schemas/View"}}},"EntryFunctionInfo":{"type":"object","description":"The info extracted from a EntryFunction.","required":["action"],"properties":{"action":{"type":"string","description":"Name of the entry function."},"amount":{"type":"integer","format":"int64","description":"The amount of the token.","nullable":true,"minimum":0},"receiver":{"allOf":[{"$ref":"#/components/schemas/AccountAddress"}],"nullable":true}}},"EthSignParams":{"type":"object","required":["transaction","private_key"],"properties":{"transaction":{"$ref":"#/components/schemas/Transaction"},"private_key":{"$ref":"#/components/schemas/B256"}}},"EthSignResult":{"type":"object","required":["signature","hash"],"properties":{"signature":{"$ref":"#/components/schemas/Signature"},"hash":{"$ref":"#/components/schemas/TxHash"}}},"FaucetStatus":{"oneOf":[{"type":"object","required":["Accepted"],"properties":{"Accepted":{"$ref":"#/components/schemas/HexHash"}}},{"type":"string","enum":["TryLater"]}],"description":"Faucet may immediately return a hash of a funding tx,\nor, when all minter accounts are busy, reject the request."},"GasPriceRes":{"type":"object","required":["mean_gas_price","max_gas_price"],"properties":{"mean_gas_price":{"type":"integer","format":"int64","minimum":0},"max_gas_price":{"type":"integer","format":"int64","minimum":0}}},"HexHash":{"type":"string"},"MoveValueResponse":{"type":"object","description":"Datatype for representing the MoveValue","required":["result"],"properties":{"result":{"type":"array","items":{"allOf":[{"$ref":"#/components/schemas/MoveValue"}],"nullable":true}}}},"SupraTransaction":{"oneOf":[{"type":"object","required":["Smr"],"properties":{"Smr":{"type":"object"}}},{"type":"object","required":["Move"],"properties":{"Move":{"type":"object"}}},{"type":"object","required":["Evm"],"properties":{"Evm":{"type":"object"}}}],"description":"Either [`SmrTransaction`](https://github.com/Entropy-Foundation/supra-common/blob/master/sosmr/src/transaction.rs#L258)\nor [`aptos_types::transaction::SignedTransaction`](https://github.com/Entropy-Foundation/aptos-core/blob/bridgeless-poc/types/src/transaction/mod.rs#L536)\nor EvmSignedTransaction"},"TransactionApiInfo":{"allOf":[{"allOf":[{"$ref":"#/components/schemas/TransactionDerivedInfo"}],"nullable":true},{"allOf":[{"$ref":"#/components/schemas/TransactionOutputInfo"}],"nullable":true},{"allOf":[{"$ref":"#/components/schemas/ExecutionResult"}],"nullable":true},{"allOf":[{"$ref":"#/components/schemas/TransactionBlockInfo"}],"nullable":true},{"type":"object","required":["txn_hash"],"properties":{"txn_hash":{"$ref":"#/components/schemas/HexHash"},"move_transaction":{"allOf":[{"$ref":"#/components/schemas/AptosApiTransactionPayload"}],"nullable":true},"status":{"allOf":[{"$ref":"#/components/schemas/sosmr.TxExecutionStatus"}],"nullable":true}}}],"description":"This collects info of a transaction in one place."},"TransactionBlockInfo":{"type":"object","description":"The info from the block in which the transaction is included.","required":["confirmation_time","block_number","block_hash"],"properties":{"confirmation_time":{"$ref":"#/components/schemas/SmrTimestamp"},"block_number":{"type":"integer","format":"int64","description":"The block number in which the transaction is included.\nTODO: Check with Dr. Yang if it is the height or round number, now\njust use the round number.","minimum":0},"block_hash":{"$ref":"#/components/schemas/HexHash"}}},"TransactionDerivedInfo":{"type":"object","description":"The info that is derived from a SignedTransaction/RawTransaction and its associated block.","required":["sender","sequence_number","max_gas_amount","gas_unit_price"],"properties":{"sender":{"$ref":"#/components/schemas/AddressType"},"sequence_number":{"type":"integer","format":"int64","description":"The sequence number of the transaction.","minimum":0},"max_gas_amount":{"type":"integer","format":"int64","description":"Maximal total gas to spend for this transaction.","minimum":0},"gas_unit_price":{"type":"integer","format":"int64","description":"Price to be paid per gas unit.","minimum":0}}},"TransactionInfo":{"allOf":[{"allOf":[{"$ref":"#/components/schemas/TransactionApiInfo"}],"nullable":true},{"type":"object","required":["transaction"],"properties":{"transaction":{"type":"object","nullable":true}}}],"description":"See [`SmrTransaction`](https://github.com/Entropy-Foundation/supra-common/blob/master/sosmr/src/transaction.rs#L258)"},"TransactionOutputInfo":{"type":"object","description":"The info from execution output of a transaction.","required":["gas_used","events","executor_status"],"properties":{"gas_used":{"type":"integer","format":"int64","description":"The gas used for the transaction.","minimum":0},"events":{"type":"array","items":{"$ref":"#/components/schemas/ContractEvent"},"description":"The events emitted by the transaction."},"executor_status":{"$ref":"#/components/schemas/TransactionStatus"}}},"TxnSimulationInfo":{"type":"object","required":["estimated_status","estimated_gas"],"properties":{"estimated_status":{"type":"string"},"estimated_gas":{"type":"integer","format":"int64","minimum":0}}}}},"tags":[{"name":"Accounts","description":"Account API"},{"name":"Wallet","description":"Wallet Api"},{"name":"Transactions","description":"Transactions Api"},{"name":"Block","description":"Block details"},{"name":"View","description":"Execute view function"},{"name":"Ethereum","description":"Ethereum compatible RPC endpoints"}]}